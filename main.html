<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="Celebrating Karthi K's special birthday with beautiful memories, photos, and interactive experiences.">
    <meta name="theme-color" content="#6366f1">
    <title>🎉 Happy Birthday Karthi K! 🎉</title>

    <!-- Enhanced Performance optimizations -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Critical resource preloading -->
    <link rel="preload" as="image" href="images/profile/IMG-20250613-WA0027.jpg" importance="high">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" as="script" href="https://unpkg.com/aos@2.3.1/dist/aos.js">
    <link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js">

    <!-- Page prefetching for faster navigation -->
    <link rel="prefetch" href="gallery.html">
    <link rel="prefetch" href="game.html">
    <link rel="prefetch" href="wishes.html">
    <link rel="prefetch" href="photo-capture.html">

    <!-- Font loading optimization -->
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap"></noscript>

    <!-- Preconnect to external domains for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://unpkg.com">

    <!-- DNS prefetch for faster domain resolution -->
    <link rel="dns-prefetch" href="https://via.placeholder.com">
    <link rel="dns-prefetch" href="https://picsum.photos">

    <!-- Resource hints for better performance -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <style>
        :root {
            --primary-color: #2563EB;
            --secondary-color: #64748B;
            --accent-color: #3B82F6;
            --success-color: #10B981;
            --purple-color: #8B5CF6;
            --pink-color: #EC4899;
            --orange-color: #F59E0B;
            --blue-color: #2563EB;
            --cyan-color: #06B6D4;
            --lime-color: #84CC16;
            --text-dark: #1F2937;
            --text-light: #6B7280;
            --text-bright: #FFFFFF;
            --bg-light: #F8FAFC;
            --bg-white: #FFFFFF;
            --bg-gradient-1: linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 100%);
            --bg-gradient-2: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
            --bg-gradient-3: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%);
            --bg-gradient-4: linear-gradient(135deg, #FAFAFA 0%, #F4F4F5 100%);
            --bg-gradient-5: linear-gradient(135deg, #F9FAFB 0%, #F3F4F6 100%);
            --border-light: #E5E7EB;
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--current-bg);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
            font-display: swap;
            position: relative;
            min-height: 100vh;
            transition: background 0.8s ease;
        }

        /* Professional Clean Theme */
        :root {
            --current-bg: linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 100%);
        }

        body {
            background: var(--bg-light);
            background-size: 100% 100%;
        }

        /* Subtle professional background elements */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(2px 2px at 20px 30px, rgba(37, 99, 235, 0.1), transparent),
                radial-gradient(1px 1px at 40px 70px, rgba(37, 99, 235, 0.08), transparent),
                radial-gradient(2px 2px at 90px 40px, rgba(37, 99, 235, 0.1), transparent),
                radial-gradient(1px 1px at 130px 80px, rgba(37, 99, 235, 0.06), transparent),
                radial-gradient(1px 1px at 160px 30px, rgba(37, 99, 235, 0.05), transparent),
                radial-gradient(2px 2px at 200px 60px, rgba(37, 99, 235, 0.08), transparent),
                radial-gradient(1px 1px at 250px 120px, rgba(37, 99, 235, 0.06), transparent),
                radial-gradient(1px 1px at 300px 150px, rgba(37, 99, 235, 0.05), transparent),
                radial-gradient(1px 1px at 350px 200px, rgba(37, 99, 235, 0.08), transparent),
                radial-gradient(1px 1px at 400px 100px, rgba(37, 99, 235, 0.04), transparent);
            background-repeat: repeat;
            background-size: 500px 350px;
            animation: subtleFloat 60s linear infinite;
            z-index: -1;
            pointer-events: none;
        }



        /* Professional subtle animations */
        @keyframes subtleFloat {
            0% {
                transform: translate3d(0, 0, 0);
                opacity: 0.8;
            }
            50% {
                transform: translate3d(-10px, -5px, 0);
                opacity: 1;
            }
            100% {
                transform: translate3d(-20px, -10px, 0);
                opacity: 0.8;
            }
        }

        @keyframes subtleGlow {
            0%, 100% {
                opacity: 0.9;
                filter: brightness(1);
            }
            50% {
                opacity: 1;
                filter: brightness(1.05);
            }
        }



        /* Optimized space theme animations for better performance */
        @keyframes starfield {
            0% { transform: translate3d(0, 0, 0); }
            100% { transform: translate3d(0, -100px, 0); }
        }

        @keyframes galaxySwirl {
            0% { transform: rotate3d(0, 0, 1, 0deg) scale3d(1, 1, 1); }
            50% { transform: rotate3d(0, 0, 1, 180deg) scale3d(1.05, 1.05, 1); }
            100% { transform: rotate3d(0, 0, 1, 360deg) scale3d(1, 1, 1); }
        }

        @keyframes nebulaFlow {
            0%, 100% { transform: translate3d(0, 0, 0) scale3d(1, 1, 1); }
            25% { transform: translate3d(5px, -3px, 0) scale3d(1.02, 1.02, 1); }
            50% { transform: translate3d(-3px, 5px, 0) scale3d(0.98, 0.98, 1); }
            75% { transform: translate3d(-5px, -5px, 0) scale3d(1.01, 1.01, 1); }
        }



        .theme-btn.birthday {
            background: linear-gradient(45deg, #FF6B9D, #8B5CF6);
        }

        .theme-btn.space {
            background: linear-gradient(45deg, #1a1a2e, #533483);
            color: white;
        }

        .theme-btn.galaxy {
            background: linear-gradient(45deg, #2d1b69, #11998e);
            color: white;
        }

        .theme-btn.nebula {
            background: linear-gradient(45deg, #667eea, #f093fb);
            color: white;
        }

        /* Minimal floating background elements - reduced for cleaner design */
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
            display: none; /* Removed for professional look */
        }

        .floating-element {
            position: absolute;
            opacity: 0.02;
            animation: gentleFloat 60s infinite linear;
            font-size: 1rem;
            will-change: transform;
            pointer-events: none;
        }

        .floating-space-elements {
            display: none; /* Hidden for professional look */
        }

        @keyframes gentleFloat {
            from {
                transform: translate3d(0, 100vh, 0);
                opacity: 0;
            }
            10% {
                opacity: 0.03;
            }
            90% {
                opacity: 0.03;
            }
            to {
                transform: translate3d(0, -100px, 0);
                opacity: 0;
            }
        }

        html {
            scroll-behavior: smooth;
        }

        /* Loading optimization */
        .loading-placeholder {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Enhanced Icon emoji styling */
        .icon-emoji {
            font-size: 1.3em;
            margin-right: 0.6rem;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn:hover .icon-emoji {
            transform: scale(1.1);
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        }

        /* Celebration animation */
        @keyframes celebrationPulse {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }

        /* Birthday Cake Animation */
        .birthday-cake {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5rem;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            animation: cakeAppear 3s ease-in-out;
        }

        @keyframes cakeAppear {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0) rotate(-180deg);
            }
            30% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2) rotate(0deg);
            }
            70% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8) rotate(180deg);
            }
        }

        /* Professional celebration overlay */
        .celebration-mode {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(37,99,235,0.2) 0%, rgba(59,130,246,0.2) 30%, rgba(16,185,129,0.2) 60%, rgba(245,158,11,0.2) 100%);
            z-index: 1500;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .celebration-mode.active {
            opacity: 1;
            animation: celebrationPulse 3s ease-in-out infinite;
        }

        /* Candles animation */
        .candles {
            position: fixed;
            top: 45%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            gap: 0.5rem;
            z-index: 2001;
            opacity: 0;
        }

        .candle {
            font-size: 2rem;
            animation: candleFlicker 1s ease-in-out infinite alternate;
        }

        @keyframes candleFlicker {
            0% { transform: scale(1) rotate(-2deg); }
            100% { transform: scale(1.1) rotate(2deg); }
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Section spacing */
        .section {
            padding: 4rem 0;
        }

        .section-sm {
            padding: 2rem 0;
        }

        /* Typography */
        .heading-primary {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .heading-secondary {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
            line-height: 1.3;
        }

        .text-gradient {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .text-large {
            font-size: 1.125rem;
            color: var(--text-dark);
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }

        /* Hero Section - Professional Clean Design */
        .hero-section {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            padding: 3rem 0 2.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            border-radius: 0 0 2rem 2rem;
            box-shadow: 0 8px 32px rgba(37, 99, 235, 0.1);
            margin-bottom: 2rem;
            border: 1px solid rgba(37, 99, 235, 0.1);
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.03) 0%, rgba(59, 130, 246, 0.03) 50%, rgba(37, 99, 235, 0.03) 100%);
            z-index: 1;
        }

        .hero-section::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(37, 99, 235, 0.05), transparent, rgba(59, 130, 246, 0.05), transparent);
            animation: heroRotate 30s linear infinite;
            z-index: 1;
        }

        @keyframes heroRotate {
            0% { transform: scale(1); opacity: 0.1; }
            50% { transform: scale(1.05); opacity: 0.15; }
            100% { transform: scale(1); opacity: 0.1; }
        }

        .hero-content {
            position: relative;
            z-index: 3;
        }

        .birthday-emoji {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            display: inline-block;
            animation: spectacularBounce 3s ease-in-out infinite;
            filter: drop-shadow(0 4px 8px rgba(37, 99, 235, 0.3));
        }

        @keyframes spectacularBounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0) scale(1);
            }
            10% {
                transform: translateY(-15px) scale(1.1);
            }
            30% {
                transform: translateY(-8px) scale(1.05);
            }
            40% {
                transform: translateY(-12px) scale(1.08);
            }
            60% {
                transform: translateY(-6px) scale(1.03);
            }
        }

        /* Space-Themed Birthday Heading */
        .birthday-heading {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3.5rem, 10vw, 7rem);
            font-weight: 900;
            color: #2563EB;
            margin-bottom: 2rem;
            display: block;
            text-align: center;
            line-height: 1.2;
            position: relative;
            /* Cosmic silver border */
            -webkit-text-stroke: 2px #8B5CF6;
            /* Space-themed shadows with cosmic colors */
            text-shadow:
                2px 2px 0 #8B5CF6,
                -1px -1px 0 #A855F7,
                1px -1px 0 #8B5CF6,
                -1px 1px 0 #A855F7,
                0 4px 12px rgba(139, 92, 246, 0.4),
                0 0 20px rgba(168, 85, 247, 0.2);
            /* Subtle cosmic glow animation */
            animation: cosmicGlow 4s ease-in-out infinite alternate;
        }

        /* Cosmic nebula background frame */
        .birthday-heading::before {
            content: '';
            position: absolute;
            top: -20px;
            left: -40px;
            right: -40px;
            bottom: -20px;
            background: linear-gradient(135deg,
                rgba(30, 41, 59, 0.3) 0%,
                rgba(55, 48, 163, 0.2) 50%,
                rgba(30, 41, 59, 0.3) 100%);
            border-radius: 2rem;
            z-index: -1;
            border: 2px solid #6366F1;
            box-shadow:
                0 6px 20px rgba(139, 92, 246, 0.2),
                inset 0 1px 0 rgba(168, 85, 247, 0.1);
            animation: nebulaShift 6s ease-in-out infinite alternate;
        }

        .birthday-heading .line1 {
            display: block;
            margin-bottom: 0.5rem;
            /* Ensure consistent styling with parent */
            position: relative;
            z-index: 2;
        }

        .birthday-heading .line2 {
            display: block;
            font-size: 0.8em;
            font-weight: 700;
            /* Maintain the same professional styling */
            position: relative;
            z-index: 2;
            /* Slightly enhanced for the name */
            letter-spacing: 0.02em;
        }





        /* Space-themed animations */
        @keyframes cosmicGlow {
            0% {
                text-shadow:
                    2px 2px 0 #8B5CF6,
                    -1px -1px 0 #A855F7,
                    1px -1px 0 #8B5CF6,
                    -1px 1px 0 #A855F7,
                    0 4px 12px rgba(139, 92, 246, 0.4),
                    0 0 20px rgba(168, 85, 247, 0.2);
            }
            100% {
                text-shadow:
                    2px 2px 0 #8B5CF6,
                    -1px -1px 0 #A855F7,
                    1px -1px 0 #8B5CF6,
                    -1px 1px 0 #A855F7,
                    0 4px 12px rgba(139, 92, 246, 0.6),
                    0 0 30px rgba(168, 85, 247, 0.3);
            }
        }

        @keyframes nebulaShift {
            0% {
                background: linear-gradient(135deg,
                    rgba(30, 41, 59, 0.3) 0%,
                    rgba(55, 48, 163, 0.2) 50%,
                    rgba(30, 41, 59, 0.3) 100%);
                box-shadow:
                    0 6px 20px rgba(139, 92, 246, 0.2),
                    inset 0 1px 0 rgba(168, 85, 247, 0.1);
            }
            100% {
                background: linear-gradient(135deg,
                    rgba(55, 48, 163, 0.3) 0%,
                    rgba(30, 41, 59, 0.2) 50%,
                    rgba(55, 48, 163, 0.3) 100%);
                box-shadow:
                    0 6px 25px rgba(139, 92, 246, 0.3),
                    inset 0 1px 0 rgba(168, 85, 247, 0.15);
            }
        }

        /* Remove separate name highlight - now integrated */
        .name-highlight {
            display: none;
        }

        @keyframes nameSpectacular {
            0%, 100% {
                transform: translateY(0px) scale(1) rotate(0deg);
                filter: drop-shadow(0 0 20px rgba(255, 107, 157, 0.6));
            }
            25% {
                transform: translateY(-5px) scale(1.03) rotate(1deg);
                filter: drop-shadow(0 0 25px rgba(139, 92, 246, 0.7));
            }
            50% {
                transform: translateY(-8px) scale(1.05) rotate(0deg);
                filter: drop-shadow(0 0 35px rgba(67, 233, 123, 0.8));
            }
            75% {
                transform: translateY(-3px) scale(1.02) rotate(-1deg);
                filter: drop-shadow(0 0 30px rgba(255, 230, 109, 0.7));
            }
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 500;
            line-height: 1.6;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            animation: subtitleFloat 6s ease-in-out infinite;
        }

        @keyframes subtitleFloat {
            0%, 100% {
                transform: translateY(0px);
                opacity: 0.9;
            }
            50% {
                transform: translateY(-2px);
                opacity: 1;
            }
        }

        /* Confetti elements for hero */
        .hero-confetti {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.6;
            animation: heroConfetti 8s linear infinite;
            pointer-events: none;
            display: none; /* Hidden for professional look */
        }

        @keyframes heroConfetti {
            0% {
                transform: translateY(-20px);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(200px);
                opacity: 0;
            }
        }

        /* Profile Section - Enhanced */
        .profile-section {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(249, 250, 251, 0.98) 100%);
            backdrop-filter: blur(20px);
            padding: 5rem 0;
            position: relative;
            overflow: hidden;
        }

        .profile-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 80%, rgba(255, 107, 157, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
            z-index: 1;
        }

        .profile-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 5rem;
            align-items: center;
            max-width: 1100px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .profile-image-container {
            text-align: center;
            position: relative;
        }

        .profile-image-container::before {
            content: '';
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            background: linear-gradient(45deg,
                var(--primary-color) 0%,
                var(--accent-color) 50%,
                var(--secondary-color) 100%);
            border-radius: 50%;
            opacity: 0.3;
            z-index: -1;
        }

        @keyframes profileGlow {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.1) rotate(180deg);
                opacity: 1;
            }
        }

        .profile-image {
            width: 320px;
            height: 320px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: var(--shadow-lg);
            border: 6px solid var(--primary-color);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
            position: relative;
            z-index: 2;
        }

        .profile-image:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-xl);
        }

        .profile-content {
            position: relative;
            z-index: 2;
        }

        .profile-content h2 {
            color: var(--text-dark);
            margin-bottom: 2rem;
            position: relative;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .profile-content h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 80px;
            height: 6px;
            background: linear-gradient(135deg,
                var(--primary-color) 0%,
                var(--orange-color) 25%,
                var(--accent-color) 50%,
                var(--secondary-color) 75%,
                var(--cyan-color) 100%);
            border-radius: 3px;
            box-shadow: 0 2px 8px rgba(255, 23, 68, 0.4);
        }

        .profile-description {
            font-size: 1.3rem;
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: 2.5rem;
            text-align: justify;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        /* Enhanced Personality Traits */
        .traits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .trait-item {
            display: flex;
            align-items: center;
            padding: 1.5rem;
            background: var(--bg-white);
            border-radius: var(--radius-xl);
            border: 2px solid var(--border-light);
            box-shadow: var(--shadow-md);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .trait-item:hover {
            border-color: var(--primary-color);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .trait-icon {
            font-size: 2.5rem;
            margin-right: 1rem;
            color: var(--primary-color);
            transition: all 0.3s ease;
        }

        .trait-item:hover .trait-icon {
            transform: scale(1.1);
            color: var(--accent-color);
        }

        .trait-text {
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .trait-item:hover .trait-text {
            color: var(--primary-color);
        }

        /* Gallery Section */
        .gallery-section {
            background: var(--bg-light);
            padding: 4rem 0;
        }

        .gallery-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .gallery-item {
            background: var(--bg-white);
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .gallery-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .gallery-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
            will-change: transform;
            background: var(--bg-light);
        }

        .gallery-item:hover .gallery-image {
            transform: scale(1.02);
        }

        /* Wishes Preview Section */
        .wishes-preview-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 2rem;
            margin: 2rem 0;
            box-shadow: var(--shadow-lg);
        }

        .wishes-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .wish-preview-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            border-radius: var(--radius-xl);
            padding: 1.5rem;
            border: 2px solid transparent;
            background-clip: padding-box;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .wish-preview-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .wish-preview-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary-color);
        }

        .wish-preview-card:hover::before {
            opacity: 0.1;
        }

        .wish-message {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-dark);
            margin-bottom: 1rem;
            font-style: italic;
        }

        .wish-author {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .author-name {
            font-weight: 600;
            color: var(--primary-color);
        }

        .wish-emoji {
            font-size: 1.2rem;
        }

        .gallery-content {
            padding: 1.5rem;
        }

        .gallery-title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .gallery-description {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Enhanced Action Buttons */
        .action-section {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(249, 250, 251, 0.98) 100%);
            backdrop-filter: blur(20px);
            padding: 5rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .action-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 20%, rgba(255, 107, 157, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 70% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
            z-index: 1;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
            position: relative;
            z-index: 2;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1.25rem 2rem;
            border-radius: var(--radius-xl);
            font-weight: 600;
            text-decoration: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
            box-shadow:
                0 8px 25px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            box-shadow: var(--shadow-md);
            border: 2px solid var(--primary-color);
            font-weight: 600;
        }

        .btn-primary:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent-color);
        }

        .btn-secondary {
            background: var(--bg-white);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            box-shadow: var(--shadow-md);
            font-weight: 600;
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Footer */
        .footer {
            background: var(--text-dark);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        .footer-content {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .footer-brand {
            font-weight: 600;
        }

        .footer-heart {
            color: #ef4444;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Enhanced Responsive Design */
        @media (max-width: 1024px) {
            .profile-container {
                grid-template-columns: 1fr;
                gap: 4rem;
                text-align: center;
            }

            .gallery-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }

            .action-buttons {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .section {
                padding: 3rem 0;
            }

            .hero-section {
                padding: 2rem 0 1.5rem;
            }

            .profile-section {
                padding: 4rem 0;
            }

            .action-section {
                padding: 4rem 0;
            }

            .profile-image {
                width: 250px;
                height: 250px;
            }

            .traits-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .action-buttons {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .btn {
                width: 100%;
                max-width: 350px;
                margin: 0 auto;
            }

            .birthday-heading {
                font-size: clamp(2.5rem, 6vw, 4rem);
                /* Space-themed shadow effects for smaller screens */
                -webkit-text-stroke: 1.5px #8B5CF6;
                text-shadow:
                    1px 1px 0 #8B5CF6,
                    -1px -1px 0 #A855F7,
                    1px -1px 0 #8B5CF6,
                    -1px 1px 0 #A855F7,
                    0 3px 8px rgba(139, 92, 246, 0.4);
            }

            .birthday-heading::before {
                top: -15px;
                left: -30px;
                right: -30px;
                bottom: -15px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }

            .hero-section {
                padding: 1.5rem 0 1rem;
            }

            .profile-section {
                padding: 3rem 0;
            }

            .action-section {
                padding: 3rem 0;
            }

            .profile-image {
                width: 200px;
                height: 200px;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .trait-item {
                padding: 1rem;
            }

            .btn {
                padding: 1rem 1.5rem;
                font-size: 1rem;
            }

            .birthday-emoji {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .birthday-heading {
                font-size: clamp(2rem, 5vw, 3rem);
                /* Space-themed shadow effects for mobile */
                -webkit-text-stroke: 1px #8B5CF6;
                text-shadow:
                    1px 1px 0 #8B5CF6,
                    -1px -1px 0 #A855F7,
                    1px -1px 0 #8B5CF6,
                    -1px 1px 0 #A855F7,
                    0 2px 6px rgba(139, 92, 246, 0.4);
            }

            .birthday-heading::before {
                top: -10px;
                left: -20px;
                right: -20px;
                bottom: -10px;
                border-radius: 1.5rem;
            }
        }
    </style>
</head>
<body>


    <!-- Floating Space Elements -->
    <div class="floating-space-elements">
        <div class="floating-element" style="left: 5%; animation-delay: 0s;">⭐</div>
        <div class="floating-element" style="left: 15%; animation-delay: 3s;">✨</div>
        <div class="floating-element" style="left: 25%; animation-delay: 6s;">🌟</div>
        <div class="floating-element" style="left: 35%; animation-delay: 9s;">💫</div>
        <div class="floating-element" style="left: 45%; animation-delay: 12s;">⭐</div>
        <div class="floating-element" style="left: 55%; animation-delay: 15s;">✨</div>
        <div class="floating-element" style="left: 65%; animation-delay: 18s;">🌟</div>
        <div class="floating-element" style="left: 75%; animation-delay: 21s;">💫</div>
        <div class="floating-element" style="left: 85%; animation-delay: 24s;">⭐</div>
        <div class="floating-element" style="left: 95%; animation-delay: 27s;">✨</div>
    </div>

    <!-- Minimal Clean Background Elements -->
    <div class="bg-elements">
        <div class="floating-element" style="left: 10%; animation-delay: 0s;">✨</div>
        <div class="floating-element" style="left: 30%; animation-delay: 5s;">🌟</div>
        <div class="floating-element" style="left: 50%; animation-delay: 10s;">💫</div>
        <div class="floating-element" style="left: 70%; animation-delay: 15s;">⭐</div>
        <div class="floating-element" style="left: 90%; animation-delay: 20s;">✨</div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <!-- Minimal hero confetti elements -->
        <div class="hero-confetti" style="left: 20%; animation-delay: 0s;">🎉</div>
        <div class="hero-confetti" style="left: 50%; animation-delay: 1s;">✨</div>
        <div class="hero-confetti" style="left: 80%; animation-delay: 2s;">🌟</div>

        <div class="container">
            <div class="hero-content">
                <h1 class="birthday-heading" data-aos="fade-down" data-aos-delay="200">
                    <span class="line1">Happy Birthday</span>
                    <span class="line2">Karthi K</span>
                </h1>
                <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="600">
                    Celebrating another year of joy, laughter, and amazing memories with someone truly special ✨
                </p>
            </div>
        </div>
    </section>

    <!-- Profile Section -->
    <section class="profile-section">
        <div class="container">
            <div class="profile-container">
                <div class="profile-image-container" data-aos="fade-right" data-aos-delay="200">
                    <img src="images/profile/IMG-20250613-WA0027.jpg"
                         alt="Karthi K"
                         class="profile-image"
                         loading="lazy"
                         decoding="async"
                         onerror="this.src='https://via.placeholder.com/280x280/6366f1/ffffff?text=Karthi+K'">
                </div>

                <div class="profile-content" data-aos="fade-left" data-aos-delay="400">
                    <h2 class="heading-secondary">Meet Karthi K</h2>
                    <p class="profile-description">
                        A vibrant soul who brings joy and energy to everything she does.
                        Her passion for life, genuine warmth, and infectious smile make every moment special.
                        Whether she's dominating at table tennis or spreading happiness wherever she goes,
                        Karthi has a unique way of making everyone around her feel valued and loved.
                    </p>

                    <div class="traits-grid">
                        <div class="trait-item" data-aos="fade-up" data-aos-delay="600">
                            <span class="trait-icon">🏓</span>
                            <span class="trait-text">Table Tennis Champion</span>
                        </div>

                        <div class="trait-item" data-aos="fade-up" data-aos-delay="700">
                            <span class="trait-icon">💖</span>
                            <span class="trait-text">Beloved Friend</span>
                        </div>

                        <div class="trait-item" data-aos="fade-up" data-aos-delay="800">
                            <span class="trait-icon">😊</span>
                            <span class="trait-text">Always Smiling</span>
                        </div>

                        <div class="trait-item" data-aos="fade-up" data-aos-delay="900">
                            <span class="trait-icon">⭐</span>
                            <span class="trait-text">Energetic & Fun-loving</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    </section>

    <!-- Gallery Section -->
    <section class="gallery-section">
        <div class="container">
            <div class="gallery-header">
                <h2 class="heading-secondary" data-aos="fade-up">Memory Gallery</h2>
                <p class="text-large" data-aos="fade-up" data-aos-delay="200">
                    A beautiful collection of precious moments and cherished memories
                </p>
            </div>

            <div class="gallery-grid" id="memoryGallery">
                <!-- Gallery items will be loaded dynamically -->
            </div>

            <div class="text-center" data-aos="fade-up" data-aos-delay="400">
                <a href="main-gallery.html" class="btn btn-primary">
                    <span class="icon-emoji">🖼️</span>
                    View Full Gallery
                </a>
            </div>
        </div>
    </section>

    <!-- Birthday Wishes Preview Section -->
    <section class="section wishes-preview-section">
        <div class="container">
            <div class="section-header" data-aos="fade-up">
                <h2 class="section-title">💌 Birthday Wishes</h2>
                <p class="section-description">Heartfelt messages from friends and family</p>
            </div>

            <div id="wishesPreview" class="wishes-preview-grid">
                <!-- Real-time wishes will be displayed here -->
            </div>

            <div class="text-center" data-aos="fade-up" data-aos-delay="800">
                <a href="wishes.html" class="btn btn-secondary">
                    <span class="icon-emoji">💌</span>
                    View All Wishes & Send Yours
                </a>
            </div>
        </div>
    </section>

    <!-- Action Section -->
    <section class="action-section">
        <div class="container">
            <h2 class="heading-secondary" data-aos="fade-up">Let's Celebrate!</h2>
            <p class="text-large" data-aos="fade-up" data-aos-delay="200">
                Explore more ways to make this birthday extra special
            </p>

            <div class="action-buttons">
                <a href="game.html" class="btn btn-primary" data-aos="fade-up" data-aos-delay="300">
                    <span class="icon-emoji">🎮</span>
                    Play Birthday Game
                </a>

                <a href="gallery.html" class="btn btn-secondary" data-aos="fade-up" data-aos-delay="400">
                    <span class="icon-emoji">📷</span>
                    Memory Gallery
                </a>

                <a href="wishes.html" class="btn btn-secondary" data-aos="fade-up" data-aos-delay="500">
                    <span class="icon-emoji">💖</span>
                    Send Birthday Wishes
                </a>

                <a href="photo-capture.html" class="btn btn-secondary" data-aos="fade-up" data-aos-delay="550">
                    <span class="icon-emoji">📸</span>
                    Capture Memories
                </a>

                <button class="btn btn-secondary" onclick="triggerCelebration()" data-aos="fade-up" data-aos-delay="600">
                    <span class="icon-emoji">🎉</span>
                    Celebrate Now!
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <span>Made with</span>
                <span class="footer-heart">💜</span>
                <span class="footer-brand">by AlphaX Heroes</span>
            </div>
            <p style="color: #e5e7eb; font-size: 0.875rem; text-shadow: 0 1px 2px rgba(0,0,0,0.5);">
                © 2025 - Celebrating Karthi's Special Day
            </p>
        </div>
    </footer>

    <!-- Load permanent wishes data -->
    <script src="wishes-data.js"></script>

    <!-- Load critical scripts asynchronously -->
    <script>
        // Inline minimal Font Awesome icons to avoid external CSS
        const iconMap = {
            'fas fa-table-tennis': '🏓',
            'fas fa-heart': '💖',
            'fas fa-smile-beam': '😊',
            'fas fa-star': '⭐',
            'fas fa-images': '🖼️',
            'fas fa-gamepad': '🎮',
            'fas fa-camera': '📷',
            'fas fa-party-horn': '🎉'
        };

        // Replace Font Awesome icons with emojis for faster loading
        function replaceIcons() {
            document.querySelectorAll('i[class*="fas fa-"]').forEach(icon => {
                const className = icon.className;
                const emoji = iconMap[className];
                if (emoji) {
                    icon.outerHTML = `<span class="icon-emoji">${emoji}</span>`;
                }
            });
        }


    </script>

    <!-- Load AOS and Confetti asynchronously -->
    <script async src="https://unpkg.com/aos@2.3.1/dist/aos.js" onload="initAOS()"></script>
    <script async src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js" onload="console.log('✅ Confetti library loaded successfully')"></script>

    <script>
        class BirthdayMainPage {
            constructor() {
                this.galleryImages = [];
                this.wishes = [];
                this.isAOSLoaded = false;
                this.init();
            }

            init() {
                this.loadGalleryImages();
                this.loadWishes();
                this.setupEventListeners();
                this.addPageLoadAnimation();
                this.optimizeImages();
                this.renderWishesPreview();
                replaceIcons(); // Replace Font Awesome with emojis
            }

            optimizeImages() {
                // Add intersection observer for lazy loading
                if ('IntersectionObserver' in window) {
                    const imageObserver = new IntersectionObserver((entries, observer) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const img = entry.target;
                                if (img.dataset.src) {
                                    img.src = img.dataset.src;
                                    img.classList.remove('loading-placeholder');
                                    observer.unobserve(img);
                                }
                            }
                        });
                    });

                    document.querySelectorAll('img[data-src]').forEach(img => {
                        imageObserver.observe(img);
                    });
                }
            }

            loadGalleryImages() {
                // Use ALL actual images from the memory-photos folder
                this.galleryImages = [
                    {
                        src: 'images/memory-photos/IMG-20241225-WA0031.jpg',
                        title: 'Friend moments with class',
                        description: 'Special holiday moments'
                    },
                    {
                        src: 'images/memory-photos/IMG-20241225-WA0032.jpg',
                        title: 'Festive Joy',
                        description: 'Celebrating the season'
                    },
                    {
                        src: 'images/memory-photos/IMG-20250613-WA0016.jpg',
                        title: 'Beautiful Moments',
                        description: 'Captured memories'
                    },
                    {
                        src: 'images/memory-photos/IMG-20250613-WA0017.jpg',
                        title: 'Happy Times',
                        description: 'Joyful celebrations'
                    },
                    {
                        src: 'images/memory-photos/IMG-20250613-WA0025.jpg',
                        title: 'Celebration Time',
                        description: 'Celebrating with friends'
                    },
                    {
                        src: 'images/memory-photos/IMG-20250613-WA0028.jpg',
                        title: 'Precious Moments',
                        description: 'Memories to cherish'
                    },
                    {
                        src: 'images/memory-photos/IMG-20250613-WA0029.jpg',
                        title: 'Golden Memories',
                        description: 'Unforgettable times'
                    },
                    {
                        src: 'images/memory-photos/IMG-20250613-WA0030.jpg',
                        title: 'Special Day',
                        description: 'Making memories'
                    },
                    {
                        src: 'images/memory-photos/IMG-20250613-WA0031.jpg',
                        title: 'Fun Adventures',
                        description: 'Adventure and laughter'
                    },
                    {
                        src: 'images/memory-photos/image-2.jpg',
                        title: 'Cherished Moments',
                        description: 'Memories to treasure'
                    },
                    {
                        src: 'images/memory-photos/image-3.jpg',
                        title: 'Fun Times',
                        description: 'Laughter and joy'
                    },
                    {
                        src: 'images/memory-photos/image-4.jpg',
                        title: 'Happy Memories',
                        description: 'Beautiful moments'
                    },
                    {
                        src: 'images/memory-photos/image-5.jpg',
                        title: 'Wonderful Times',
                        description: 'Amazing experiences'
                    },
                    {
                        src: 'images/memory-photos/image-6.jpg',
                        title: 'Joyful Moments',
                        description: 'Pure happiness'
                    },
                    {
                        src: 'images/memory-photos/image-7.jpg',
                        title: 'Sweet Memories',
                        description: 'Heartwarming times'
                    },
                    {
                        src: 'images/memory-photos/image-8.jpg',
                        title: 'Perfect Moments',
                        description: 'Life\'s best times'
                    },
                    {
                        src: 'images/memory-photos/image.jpg',
                        title: 'Golden Memories',
                        description: 'Unforgettable experiences'
                    }
                ];

                this.renderGalleryPreview();
            }

            renderGalleryPreview() {
                const galleryContainer = document.getElementById('memoryGallery');
                if (!galleryContainer) return;

                // Show first 6 images as preview with lazy loading
                const previewImages = this.galleryImages.slice(0, 6);

                previewImages.forEach((image, index) => {
                    const galleryItem = document.createElement('div');
                    galleryItem.className = 'gallery-item';
                    galleryItem.setAttribute('data-aos', 'fade-up');
                    galleryItem.setAttribute('data-aos-delay', (index * 100).toString());

                    galleryItem.innerHTML = `
                        <img data-src="${image.src}"
                             alt="${image.title}"
                             class="gallery-image loading-placeholder"
                             loading="lazy"
                             decoding="async"
                             onerror="this.src='https://picsum.photos/300/200?random=${index + 1}'">
                        <div class="gallery-content">
                            <h3 class="gallery-title">${image.title}</h3>
                            <p class="gallery-description">${image.description}</p>
                        </div>
                    `;

                    galleryContainer.appendChild(galleryItem);
                });

                // Trigger lazy loading
                this.optimizeImages();
            }

            setupEventListeners() {
                // Add click effects to interactive elements
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.btn') || e.target.closest('.trait-item')) {
                        this.createClickEffect(e);
                    }
                });

                // Smooth scroll for anchor links
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', (e) => {
                        e.preventDefault();
                        const target = document.querySelector(anchor.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    });
                });

                // Listen for storage changes to update wishes in real-time
                window.addEventListener('storage', (e) => {
                    if (e.key === 'birthdayWishes') {
                        this.loadWishes();
                        this.renderWishesPreview();
                    }
                });

                // Also listen for custom events from the wishes page
                window.addEventListener('wishAdded', () => {
                    this.loadWishes();
                    this.renderWishesPreview();
                });
            }

            loadWishes() {
                try {
                    // First try to load from permanent storage (GitHub Pages)
                    if (typeof window.getAllWishes === 'function') {
                        this.wishes = window.getAllWishes();
                        console.log('Loading wishes from permanent storage:', this.wishes.length, 'wishes found');
                    } else {
                        // Fallback to localStorage for development
                        const saved = localStorage.getItem('birthdayWishes');
                        console.log('Loading wishes from localStorage:', saved);
                        if (saved) {
                            this.wishes = JSON.parse(saved);
                            console.log('Parsed wishes:', this.wishes);
                        } else {
                            this.wishes = [];
                            console.log('No wishes found in localStorage');
                        }
                    }
                } catch (error) {
                    console.error('Error loading wishes:', error);
                    this.wishes = [];
                }
            }

            renderWishesPreview() {
                console.log('Rendering wishes preview, wishes count:', this.wishes.length);
                const wishesContainer = document.getElementById('wishesPreview');
                if (!wishesContainer) {
                    console.error('Wishes container not found');
                    return;
                }

                // Clear existing content
                wishesContainer.innerHTML = '';

                if (this.wishes.length === 0) {
                    console.log('No wishes to display, showing placeholder');
                    // Show placeholder message when no wishes
                    wishesContainer.innerHTML = `
                        <div class="wish-preview-card" data-aos="fade-up" data-aos-delay="200">
                            <div class="wish-content">
                                <p class="wish-message">🎉 Be the first to send a birthday wish! Your heartfelt message will appear here for everyone to see.</p>
                                <div class="wish-author">
                                    <span class="author-name">- Waiting for your wish...</span>
                                    <span class="wish-emoji">💌</span>
                                </div>
                            </div>
                        </div>
                    `;
                    return;
                }

                // Show up to 5 most recent wishes
                const recentWishes = this.wishes.slice(0, 5);
                console.log('Displaying recent wishes:', recentWishes.length);

                recentWishes.forEach((wish, index) => {
                    const wishCard = document.createElement('div');
                    wishCard.className = 'wish-preview-card';
                    wishCard.setAttribute('data-aos', 'fade-up');
                    wishCard.setAttribute('data-aos-delay', (200 + index * 200).toString());

                    // Get emoji based on message content
                    const emoji = this.getWishEmoji(wish.message);

                    wishCard.innerHTML = `
                        <div class="wish-content">
                            <p class="wish-message">"${this.escapeHtml(wish.message)}"</p>
                            <div class="wish-author">
                                <span class="author-name">- ${this.escapeHtml(wish.name)}</span>
                                <span class="wish-emoji">${emoji}</span>
                            </div>
                        </div>
                    `;

                    wishesContainer.appendChild(wishCard);
                });

                // Refresh AOS animations for new elements
                if (typeof AOS !== 'undefined') {
                    AOS.refresh();
                }
            }

            getWishEmoji(message) {
                // Return appropriate emoji based on message content
                if (message.includes('table tennis') || message.includes('champion')) return '🏓';
                if (message.includes('birthday') || message.includes('Birthday')) return '🎂';
                if (message.includes('joy') || message.includes('happiness')) return '🥳';
                if (message.includes('amazing') || message.includes('year ahead')) return '🎉';
                if (message.includes('blessed') || message.includes('shining')) return '✨';
                if (message.includes('surprise')) return '🎁';
                if (message.includes('love') || message.includes('laughter')) return '💖';
                if (message.includes('awesome') || message.includes('inspiring')) return '🌈';
                if (message.includes('best') || message.includes('new year')) return '🚀';
                if (message.includes('hugs') || message.includes('wishes')) return '🤗';
                if (message.includes('memories')) return '📸';
                return '🌟'; // Default emoji
            }

            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            createClickEffect(e) {
                const colors = ['#6366f1', '#8b5cf6', '#f59e0b'];

                for (let i = 0; i < 6; i++) {
                    const particle = document.createElement('div');
                    particle.style.cssText = `
                        position: fixed;
                        left: ${e.clientX}px;
                        top: ${e.clientY}px;
                        width: 4px;
                        height: 4px;
                        background: ${colors[Math.floor(Math.random() * colors.length)]};
                        border-radius: 50%;
                        pointer-events: none;
                        z-index: 1000;
                        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
                    `;

                    document.body.appendChild(particle);

                    setTimeout(() => {
                        const angle = (i / 6) * Math.PI * 2;
                        const distance = 50 + Math.random() * 30;
                        const x = Math.cos(angle) * distance;
                        const y = Math.sin(angle) * distance;

                        particle.style.transform = `translate(${x}px, ${y}px) scale(0)`;
                        particle.style.opacity = '0';
                    }, 50);

                    setTimeout(() => particle.remove(), 700);
                }
            }

            addPageLoadAnimation() {
                document.body.style.opacity = '0';
                document.body.style.transition = 'opacity 0.3s ease-out';

                // Use requestAnimationFrame for better performance
                const showPage = () => {
                    requestAnimationFrame(() => {
                        document.body.style.opacity = '1';
                    });
                };

                if (document.readyState === 'complete') {
                    showPage();
                } else {
                    window.addEventListener('load', showPage, { once: true });
                }
            }
        }

        // Initialize AOS when library loads
        function initAOS() {
            if (typeof AOS !== 'undefined') {
                AOS.init({
                    duration: 600,
                    easing: 'ease-out-cubic',
                    once: true,
                    offset: 30,
                    disable: window.innerWidth < 768 // Disable on mobile for performance
                });
            }
        }

        // Professional celebration function with enhanced effects
        function triggerCelebration() {
            console.log('🎉 Celebration triggered!');

            // Create celebration overlay
            const celebrationOverlay = document.createElement('div');
            celebrationOverlay.className = 'celebration-mode active';
            document.body.appendChild(celebrationOverlay);

            // Create birthday cake with enhanced animation
            const cake = document.createElement('div');
            cake.className = 'birthday-cake';
            cake.innerHTML = '🎂';
            cake.style.animation = 'cakeAppear 4s ease-in-out';
            document.body.appendChild(cake);

            // Create animated candles
            const candles = document.createElement('div');
            candles.className = 'candles';
            candles.innerHTML = '🕯️🕯️🕯️🕯️🕯️';
            candles.style.opacity = '1';
            candles.style.animation = 'candleFlicker 2s ease-in-out infinite';
            document.body.appendChild(candles);

            // Professional confetti effects
            if (typeof confetti !== 'undefined') {
                console.log('🎊 Confetti library loaded, starting effects...');
                const colors = ['#2563EB', '#3B82F6', '#10B981', '#F59E0B', '#6366F1', '#0EA5E9', '#059669'];

                // Initial burst
                confetti({
                    particleCount: 150,
                    spread: 80,
                    origin: { y: 0.6 },
                    colors: colors,
                    shapes: ['circle', 'square'],
                    scalar: 1.2
                });

                // Side bursts
                setTimeout(() => {
                    confetti({
                        particleCount: 80,
                        angle: 60,
                        spread: 60,
                        origin: { x: 0, y: 0.7 },
                        colors: colors
                    });
                }, 300);

                setTimeout(() => {
                    confetti({
                        particleCount: 80,
                        angle: 120,
                        spread: 60,
                        origin: { x: 1, y: 0.7 },
                        colors: colors
                    });
                }, 600);

                // Continuous celebration
                const celebrationInterval = setInterval(() => {
                    confetti({
                        particleCount: 30,
                        spread: 50,
                        origin: {
                            x: Math.random(),
                            y: Math.random() * 0.5 + 0.5
                        },
                        colors: colors
                    });
                }, 400);

                // Final spectacular burst
                setTimeout(() => {
                    confetti({
                        particleCount: 200,
                        spread: 100,
                        origin: { y: 0.8 },
                        colors: colors,
                        shapes: ['circle', 'square'],
                        scalar: 1.5
                    });
                    clearInterval(celebrationInterval);
                }, 2000);
            } else {
                console.log('⚠️ Confetti library not loaded yet, showing basic celebration');
                // Show a simple alert as fallback
                setTimeout(() => {
                    alert('🎉 Happy Birthday Karthi K! 🎂✨');
                }, 500);
            }

            // Clean up after animation
            setTimeout(() => {
                celebrationOverlay.remove();
                cake.remove();
                candles.remove();
            }, 4000);
        }

        // Initialize when DOM is loaded with performance optimization
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializePage);
        } else {
            initializePage();
        }

        function initializePage() {
            new BirthdayMainPage();
        }

        // Prevent context menu on mobile
        document.addEventListener('contextmenu', e => e.preventDefault(), { passive: false });

        // Performance monitoring (remove in production)
        if (window.performance && window.performance.mark) {
            window.performance.mark('main-page-script-end');
        }
    </script>
</body>
</html>
